{% extends "main/base.html" %}
{% load static %}

{% block content %}
<h2>ğŸ“¦ Ğ—Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ â„–{{ order.order_number }}</h2>

<p><strong>ğŸ“Œ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:</strong> {{ order.get_status_display }}</p>
<p><strong>ğŸ’° Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ° ÑÑƒĞ¼Ğ°:</strong> {{ order.total_price }} Ğ³Ñ€Ğ½</p>
<p><strong>ğŸ•’ Ğ”Ğ°Ñ‚Ğ° ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ:</strong> {{ order.created_at }}</p>

<h3>ğŸ‘¤ Ğ†Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ğ°:</h3>
<p><strong>ğŸ‘¤ Ğ†Ğ¼'Ñ:</strong> {{ order.first_name }}</p>
<p><strong>ğŸ§‘â€ğŸ’¼ ĞŸÑ€Ñ–Ğ·Ğ²Ğ¸Ñ‰Ğµ:</strong> {{ order.last_name }}</p>
<p><strong>ğŸ“ Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½:</strong> {{ order.phone_number }}</p>
<p><strong>ğŸ“§ Email:</strong> {{ order.email }}</p>

<h3>ğŸ›ï¸ Ğ¢Ğ¾Ğ²Ğ°Ñ€Ğ¸ Ñƒ Ğ·Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ–:</h3>
<div class="cart-items">
    {% for item in order.cart.items.all %}
        <div class="cart-item">
            {% if item.product.images.all %}
                <img src="{{ item.product.images.first.image.url }}" class="cart-item-image" alt="{{ item.product.name }}">
            {% else %}
                <img src="{% static 'images/no-image.png' %}" class="cart-item-image" alt="Ğ—Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ²Ñ–Ğ´ÑÑƒÑ‚Ğ½Ñ”">
            {% endif %}
            <p>{{ item.product.name }} â€” {{ item.quantity }} ÑˆÑ‚. Ã— {{ item.product.get_final_price }} Ğ³Ñ€Ğ½ = {{ item.get_total_price }} Ğ³Ñ€Ğ½</p>
        </div>
    {% endfor %}
</div>

<h3>ğŸšš Ğ†Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºÑƒ:</h3>
<p><strong>ğŸ“ Ğ¡Ğ¿Ğ¾ÑÑ–Ğ± Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸:</strong> {{ order.delivery_method }}</p>
<p><strong>ğŸ™ï¸ ĞœÑ–ÑÑ‚Ğ¾:</strong> {{ order.city_address }}</p>
<p><strong>ğŸ“¦ ĞĞ´Ñ€ĞµÑĞ° Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸:</strong> {{ order.delivery_address }}</p>

<h3>ğŸ’³ ĞĞ¿Ğ»Ğ°Ñ‚Ğ°:</h3>
<p><strong>ğŸ’µ Ğ¡Ğ¿Ğ¾ÑÑ–Ğ± Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¸:</strong> {{ order.payment_method }}</p>

<a href="{% url 'main_page' %}">â¬… ĞŸĞ¾Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ğ¸ÑÑŒ Ğ½Ğ° Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ½Ñƒ</a>

<style>
    .cart-items {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    .cart-item {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }
    .cart-item-image {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 5px;

    }
</style>
{% endblock %}
